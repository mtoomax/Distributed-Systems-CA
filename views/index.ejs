<!DOCTYPE html>
<html>
  <head>
    <title>gRPC Calculator</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
        background: #f8f8f8;
      }

      .calculator,
      .weather {
        max-width: 400px;
        margin: 30px auto;
        padding: 20px;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 0 10px #ccc;
      }

      input,
      select,
      button {
        padding: 10px;
        margin: 5px 0;
        width: 100%;
      }

      h2 {
        margin-top: 0;
      }
    </style>
  </head>

  <body>
    <% 
      const safeResult = typeof result !== "undefined" ? result : null;
      const safeTemperature = typeof temperature !== "undefined" ? temperature : null;
    %>

    <!-- Calculator Section -->
    <div class="calculator">
      <h2>ðŸ§® gRPC Calculator</h2>
      <form action="/calculate" method="POST">
        <input type="number" name="num1" step="any" required placeholder="Enter first number" />
        <input type="number" name="num2" step="any" required placeholder="Enter second number" />

        <select name="operation" required>
          <option value="add">âž• Add</option>
          <option value="subtract">âž– Subtract</option>
          <option value="multiply">âœ– Multiply</option>
          <option value="divide">âž— Divide</option>
        </select>

        <button type="submit">Calculate</button>
      </form>

      <% if (safeResult !== null) { %>
        <h3>âœ… Result: <%= safeResult %></h3>
      <% } %>
    </div>

    <!-- Weather Section -->
    <div class="weather">
      <h2>ðŸŒ¤ gRPC Weather</h2>
      <form action="/fetch-weather" method="POST">
        <input type="text" name="area" required placeholder="Enter area (e.g., Ballyfermot)" />
        <button type="submit">Get Temperature</button>
      </form>

      <% if (safeTemperature !== null) { %>
        <h3>ðŸŒ¡ Temperature: <%= safeTemperature %> Â°C</h3>
      <% } %>
    </div>
  </body>
</html>
